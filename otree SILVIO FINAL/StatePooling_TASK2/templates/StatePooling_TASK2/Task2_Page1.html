{% extends "global/Page.html" %}
{% load static otree %}

{% block title %}
	Task #2 - Round {{player.round_number}} out of {{Constants.num_rounds}}
{% endblock %}


{% block content %}
<!--
Page attributes:
- One container with the follow:
	3 colored balls and point values
	gray urn point value
	
- Two blocks for pick an advisor
	A LHS and RHS box with bars that show their results per color	

				NOTE!!! I don't think we have data collection on the folored pages yet
-->




<!-- ############################################################ -->
<!-- This container is for the images -->
<div class = "grid-container">
<div class = "row"> <!-- probably a way to clean this up later -->

	<div class = "mainbox">
		<div class ="threeballbox">
			<div class = "spacer"></div>
			
				<div id = "RedBallRow" class = "row">
				<div id = "RedBall" class = "Rcircle"></div>
					<div id = "RedBallInfo" class ="textRSmall"></div>
				</div>
			
			<div class = "spacer"></div>
			
				<div id = "YellowBallRow" class = "row">
				<div id = "YellowBall" class = "Ycircle"></div>
					<div id = "YellowBallInfo" class ="textRSmall"></div>
				</div>
			
			<div class = "spacer"></div>
			
				<div id = "GreenBallRow"class = "row">
				<div id = "GreenBall" class = "Gcircle"></div>
					<div id = "GreenBallInfo" class ="textRSmall"></div>
				</div>
			
			<div class = "spacer"></div>
		</div>
	</div>
	
	
	
	<div class = "mainbox">
		<div class ="greyballbox">
		
			<div class = "RHSspacer"></div>
			
				
		
				<div id = "GrayBallRow" class = "row">
				<div id = "GrayBall" class = "Greycircle"></div>
					<div id = "GrayBallInfo" class ="textRSmall"></div>
				</div>
			
				<div class = "RHSspacer"></div>
			
		
		</div>
	</div>
</div> <!-- closes row -->
</div> <!--closes container -->
<!-- ############################################################ -->



</br>


<!-- ############################################################ -->
<!-- two boxes that show the two advisors, including also the "Pick an advisor" line-->
<!--
	the percentage text nodes have two IDs
		(SIDE)HS_(COLOR)Percent, if it is labelled with a 2 afterward, then it is the one that appears on
		the RHS of the bar.
-->

<div class = "grid-container2">
	<div class = "row" style = "margin: 1px">
		<div class = "columnSpacer" style="width: 43%"></div> <!-- teext centering for now -->
			Pick an advisor
		<div class = "columnSpacer" style="width: 40%"></div>
	</div>
	
	
	<div class = "row" style = "margin: 1px">

	<div class = "columnSpacer"></div>
	<div class = "columnSpacer"></div>
			<div class ="ButtonColumn">
				<form>
  					<input type="radio" id = "LHS_check" name="Advisor" value="0" > 
  				
  			</div>
	<div class = "columnSpacer"></div>
	<div class = "columnSpacer"></div>
	<div class = "columnSpacer"></div>
	<div class = "columnSpacer"></div>
  			<div class ="ButtonColumn">
  				
  					<input type="radio" id = "RHS_check" name="Advisor" value="1"> 
				</form>
			</div>	
	
	</div> <!-- closes row-->


	<div class = "row">
	
		<div class = "columnSpacer"></div>
		<div class = "partialBox">
		<div class="rowS"></div>
		
			<div class ="row">
				<div class = "labelBox"><div class = "Rcircle"></div></div>
				<div id="LHS_RedPercent" class = "textPercent"></div>
				<div class = "percentBox">
					<div id="LHS_RedBar" class = "whiteBar"></div>
				
				</div>
				<div id="LHS_RedPercent2" class = "textPercent"></div>
			
			</div>
			<div class="rowS"></div>
			
			<div class ="row">
				<div class = "labelBox"><div class = "Ycircle"></div></div>
				<div id="LHS_YellowPercent" class = "textPercent"></div>
				<div class = "percentBox">
					<div id="LHS_YellowBar" class = "whiteBar"></div>
				</div>
				<div id ="LHS_YellowPercent2" class = "textPercent"></div>
			
			</div>
			<div class="rowS"></div>
			
			
			<div class ="row">
				<div class = "labelBox"><div class = "Gcircle"></div></div>
				<div id="LHS_GreenPercent" class = "textPercent"></div>
				<div class = "percentBox">
					<div id="LHS_GreenBar" class = "whiteBar" style="width: 30%"></div>
				</div>
				<div id = "LHS_GreenPercent2" class = "textPercent"></div>
			
			</div>
			<div class="rowS"></div>
		</div>
	
		<div class = "columnSpacer"></div>
	
		<div class = "partialBox">
		<div class="rowS"></div>
		
			<div class ="row">
				<div class = "labelBox"><div class = "Rcircle"></div></div>
				<div id="RHS_RedPercent" class = "textPercent"></div>
				<div class = "percentBox">
					<div id="RHS_RedBar" class = "whiteBar"></div>
				</div>
				<div id="RHS_RedPercent2" class = "textPercent"></div>
			
			</div>
			<div class="rowS"></div>
			
			<div class ="row">
				<div class = "labelBox"><div class = "Ycircle"></div></div>
				<div id="RHS_YellowPercent" class = "textPercent"></div>
				<div class = "percentBox">
					<div id="RHS_YellowBar" class = "whiteBar"></div>
				</div>
				<div id = "RHS_YellowPercent2" class = "textPercent"></div>
			
			</div>
			<div class="rowS"></div>
			
			<div class ="row">
				<div class = "labelBox"><div class = "Gcircle"></div></div>
				<div id="RHS_GreenPercent" class = "textPercent"></div>
				<div class = "percentBox">
					<div id="RHS_GreenBar" class = "whiteBar"></div>
				</div>
				<div id = "RHS_GreenPercent2" class = "textPercent"></div>
			
			</div>
		</div>
		<div class="rowS"></div>
		<div class = "columnSpacer"></div>

	
	</div>
</div>
<!-- ############################################################ -->








<!-- add breaks to lower to button -->
</br>
</br>
</br>
</br> 
</br>

<!-- Hidden variable storage -->
<!-- Note: name= is the python name, id is the html name-->
<input type="hidden" name="Advisor_VAR" id="Advisor_Val"/>
{% next_button %}
{% endblock %}





{% block styles %}
    <link href="{% static "global/StatePooling.css" %}" rel="stylesheet">
    <link href="{% static "global/mystyle.css" %}" rel="stylesheet">
{% endblock %}


{% block scripts %}
	<script>
	/* FOR UPDATING THE INFO IN THE POINTS BOX */
	var RedDiv = document.getElementById("RedBallInfo");
	var RedNode = document.createElement("p");
	var RedText = document.createTextNode({{player.RedPoints}} + ' points'); //this puts the value of the element in
	RedNode.appendChild(RedText);
	RedDiv.appendChild(RedNode);
	
	var YellowDiv = document.getElementById("YellowBallInfo");
	var YellowNode = document.createElement("p");
	var YellowText = document.createTextNode({{player.YellowPoints}} + ' points'); //this puts the value of the element in
	YellowNode.appendChild(YellowText);
	YellowDiv.appendChild(YellowNode);
	
	var GreenDiv = document.getElementById("GreenBallInfo");
	var GreenNode = document.createElement("p");
	var GreenText = document.createTextNode({{player.GreenPoints}} + ' points'); //this puts the value of the element in
	GreenNode.appendChild(GreenText);
	GreenDiv.appendChild(GreenNode);
	
	var GrayDiv = document.getElementById("GrayBallInfo");
	var GrayNode = document.createElement("p");
	var GrayText = document.createTextNode({{player.GrayPoints}} + ' points'); //this puts the value of the element in
	GrayNode.appendChild(GrayText);
	GrayDiv.appendChild(GrayNode);
	/* ========================= */
	
	
	

	
	
	/* =====LHS AND RHS ADVISOR===== */
	/* FOR UPDATING THE INFO FOR ADVISORS */
	/* LHS Advisor percentages */
	var LHS_RedDiv= document.getElementById("LHS_RedPercent");
	var LHS_RedNode = document.createElement("p");
	var LHS_RedText = document.createTextNode({{player.LHSAdvisor_Red}} + '%'); //this puts the value of the element in
	LHS_RedNode.appendChild(LHS_RedText);
	LHS_RedDiv.appendChild(LHS_RedNode);
	var LHS_RedBar = document.getElementById("LHS_RedBar"); //This part takes the white bar and makes it the right length
	LHS_RedBar.setAttribute('style', 'width: ' + ({{player.LHSAdvisor_Red}}) + '%'); //sets the attribute value
		
	var LHS_YellowDiv= document.getElementById("LHS_YellowPercent");
	var LHS_YellowNode = document.createElement("p");
	var LHS_YellowText = document.createTextNode({{player.LHSAdvisor_Yellow}} + '%'); //this puts the value of the element in
	LHS_YellowNode.appendChild(LHS_YellowText);
	LHS_YellowDiv.appendChild(LHS_YellowNode);
	var LHS_YellowBar = document.getElementById("LHS_YellowBar"); //This part takes the white bar and makes it the right length
	LHS_YellowBar.setAttribute('style', 'width: ' + ({{player.LHSAdvisor_Yellow}}) + '%'); //sets the attribute value
		
	var LHS_GreenDiv= document.getElementById("LHS_GreenPercent");
	var LHS_GreenNode = document.createElement("p");
	var LHS_GreenText = document.createTextNode({{player.LHSAdvisor_Green}} + '%'); //this puts the value of the element in
	LHS_GreenNode.appendChild(LHS_GreenText);
	LHS_GreenDiv.appendChild(LHS_GreenNode);
	var LHS_GreenBar = document.getElementById("LHS_GreenBar"); //This part takes the white bar and makes it the right length
	LHS_GreenBar.setAttribute('style', 'width: ' + ({{player.LHSAdvisor_Green}}) + '%'); //sets the attribute value
	

	var LHS_RedDiv2= document.getElementById("LHS_RedPercent2");
	var LHS_RedNode2 = document.createElement("p");
	var LHS_RedText2 = document.createTextNode((100-{{player.LHSAdvisor_Red}}) + '%'); //this puts the value of the element in
	LHS_RedNode2.appendChild(LHS_RedText2);
	LHS_RedDiv2.appendChild(LHS_RedNode2);

	var LHS_YellowDiv2= document.getElementById("LHS_YellowPercent2");
	var LHS_YellowNode2 = document.createElement("p");
	var LHS_YellowText2 = document.createTextNode((100-{{player.LHSAdvisor_Yellow}}) + '%'); //this puts the value of the element in
	LHS_YellowNode2.appendChild(LHS_YellowText2);
	LHS_YellowDiv2.appendChild(LHS_YellowNode2);
	
	var LHS_GreenDiv2= document.getElementById("LHS_GreenPercent2");
	var LHS_GreenNode2 = document.createElement("p");
	var LHS_GreenText2 = document.createTextNode((100-{{player.LHSAdvisor_Green}}) + '%'); //this puts the value of the element in
	LHS_GreenNode2.appendChild(LHS_GreenText2);
	LHS_GreenDiv2.appendChild(LHS_GreenNode2);
	
	
	
	
	/* RHS Advisor Percentages */
	var RHS_RedDiv= document.getElementById("RHS_RedPercent");
	var RHS_RedNode = document.createElement("p");
	var RHS_RedText = document.createTextNode({{player.RHSAdvisor_Red}} + '%'); //this puts the value of the element in
	RHS_RedNode.appendChild(RHS_RedText);
	RHS_RedDiv.appendChild(RHS_RedNode);
	var RHS_RedBar = document.getElementById("RHS_RedBar"); //This part takes the white bar and makes it the right length
	RHS_RedBar.setAttribute('style', 'width: ' + ({{player.RHSAdvisor_Red}}) + '%'); //sets the attribute value

	var RHS_YellowDiv= document.getElementById("RHS_YellowPercent");
	var RHS_YellowNode = document.createElement("p");
	var RHS_YellowText = document.createTextNode({{player.RHSAdvisor_Yellow}} + '%'); //this puts the value of the element in
	RHS_YellowNode.appendChild(RHS_YellowText);
	RHS_YellowDiv.appendChild(RHS_YellowNode);
	var RHS_YellowBar = document.getElementById("RHS_YellowBar"); //This part takes the white bar and makes it the right length
	RHS_YellowBar.setAttribute('style', 'width: ' + ({{player.RHSAdvisor_Yellow}}) + '%'); //sets the attribute value
	
	var RHS_GreenDiv= document.getElementById("RHS_GreenPercent");
	var RHS_GreenNode = document.createElement("p");
	var RHS_GreenText = document.createTextNode({{player.RHSAdvisor_Green}} + '%'); //this puts the value of the element in
	RHS_GreenNode.appendChild(RHS_GreenText);
	RHS_GreenDiv.appendChild(RHS_GreenNode);
	var RHS_GreenBar = document.getElementById("RHS_GreenBar"); //This part takes the white bar and makes it the right length
	RHS_GreenBar.setAttribute('style', 'width: ' + ({{player.RHSAdvisor_Green}}) + '%'); //sets the attribute value
	
	
	var RHS_RedDiv2= document.getElementById("RHS_RedPercent2");
	var RHS_RedNode2 = document.createElement("p");
	var RHS_RedText2 = document.createTextNode((100-{{player.RHSAdvisor_Red}}) + '%'); //this puts the value of the element in
	RHS_RedNode2.appendChild(RHS_RedText2);
	RHS_RedDiv2.appendChild(RHS_RedNode2);

	var RHS_YellowDiv2= document.getElementById("RHS_YellowPercent2");
	var RHS_YellowNode2 = document.createElement("p");
	var RHS_YellowText2 = document.createTextNode((100-{{player.RHSAdvisor_Yellow}}) + '%'); //this puts the value of the element in
	RHS_YellowNode2.appendChild(RHS_YellowText2);
	RHS_YellowDiv2.appendChild(RHS_YellowNode2);
	
	var RHS_GreenDiv2= document.getElementById("RHS_GreenPercent2");
	var RHS_GreenNode2 = document.createElement("p");
	var RHS_GreenText2 = document.createTextNode((100-{{player.RHSAdvisor_Green}}) + '%'); //this puts the value of the element in
	RHS_GreenNode2.appendChild(RHS_GreenText2);
	RHS_GreenDiv2.appendChild(RHS_GreenNode2);
	
	
	
	
	
	/* =========Advisor variable storage ====== */
	var Advisor = document.getElementById("Advisor_Val");	
	/* StoredValAdvisor is the javascript variable that is locally stored */
	/* Dynamically updating the StoredValAdvisor variable. */
	$('input[name="Advisor"]').on("click", function(e) {
		console.log("Choosing an advisor");
		if (document.getElementById("LHS_check").checked){
			console.log("	LHS! Take the 0 value");
			Advisor.value = 0;
			localStorage.setItem("StoredValAdvisor", Advisor.value );
			console.log("VALUE IS: " + localStorage.getItem("StoredValAdvisor"));
		}
		if (document.getElementById("RHS_check").checked){
			console.log("	RHS! Take the 1 value");
			Advisor.value = 1;
			localStorage.setItem("StoredValAdvisor", Advisor.value );
			console.log("VALUE IS: " + localStorage.getItem("StoredValAdvisor"));
		}
    
	});
	/* =========================== */
	</script>
{% endblock %}